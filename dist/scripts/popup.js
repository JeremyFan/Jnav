function ctrlMonitor(){var e=document.getElementById("b");e&&(e.onkeydown=function(e){e.ctrlKey&&(isPressCtrl=!0)},e.onkeyup=function(e){e.ctrlKey&&(isPressCtrl=!1)},e.onkeypress=function(e){var t=e.which-48;if(0===currentInput)t>=1&&9>=t&&(currentInput=t);else if(currentInput>=1&&9>=currentInput){var n=document.querySelectorAll("#website ul"),r=n[currentInput-1];if("undefined"!=typeof r){var c=r.querySelectorAll("li"),a=c[t-1];"undefined"!=typeof a&&(createNewTab(a.getAttribute("data-url")),currentInput=0)}}})}function setWebsiteData(){chrome.storage.sync.get(function(e){var t,n,r,c,a,i,o,u=$("#website"),l=[],s=[];for(o in e)i=e[o],"cata"===i.type?l.push(i):"site"===i.type&&s.push(i);for(o=0;o<l.length;o++)i=l[o],t=document.createElement("ul"),t.id=i.id,n=document.createElement("span"),n.innerHTML=i.name,t.appendChild(n),u.appendChild(t);for(o=0;o<s.length;o++)i=s[o],t=document.querySelector("#"+i.catalog),r=document.createElement("li"),r.setAttribute("data-url",i.url),c=document.createElement("a"),c.innerHTML=i.name,c.addClass("site-item"),a=document.createElement("img"),a.addClass("favicon"),a.src=i.url.replace(/(\.com|cn|net|fm|me|org|name|tv|co|info)(\/.*|$)/,"$1/favicon.ico"),a.onerror=function(){this.src="images/logo_chrome.png"},c.appendChild(a),r.appendChild(c),t.appendChild(r),r.onclick=function(){var e=this.getAttribute("data-url");createNewTab(e)}})}function createNewTab(e){chrome.tabs.create({url:e,active:!isPressCtrl})}window.onload=function(){ctrlMonitor(),setWebsiteData()};var isPressCtrl=!1,currentInput=0;